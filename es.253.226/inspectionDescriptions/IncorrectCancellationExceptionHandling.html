<html>
<body>
Informa sobre casos en los que <code>ProcessCanceledException</code> y <code>CancellationException</code> se manejan de forma incorrecta.

<p>
  <code>ProcessCanceledException</code> y sus descendientes no deben capturarse, omitirse, registrarse ni procesarse de ninguna manera.
  En su lugar, deben relanzarse para que la infraestructura de IntelliJ Platform pueda manejarlas correctamente.
</p>
<p>
  <code>CancellationException</code> no debe capturarse, omitirse, registrarse ni procesarse de ninguna manera dentro de un contexto de corrutina.
  En su lugar, debe relanzarse para que la infraestructura de corrutinas pueda manejarla correctamente.
</p>

<p>
  La inspección informa sobre capturas explícitas de <code>ProcessCanceledException</code> (incluidos sus descendientes) y <code>CancellationException</code>, así como capturas de <code>RuntimeException</code>, <code>Exception</code> y <code>Throwable</code> que cubran excepciones de cancelación.
</p>

<h3>Ejemplos:</h3>

<h4><code>ProcessCanceledException</code>:</h4>

<pre><code lang="java">
// mal:
try {
  // ...
} catch (ProcessCanceledException e) { // la excepción no debe omitirse
}

// incorrecto:
try {
  // ...
} catch (ProcessCanceledException e) {
  LOG.error("Error occurred", e); // la excepción no debe registrarse
  throw e;
}


// correcto:
try {
  // ...
} catch (ProcessCanceledException e) {
  // acciones adicionales
  throw e;
}
</code></pre>

<h4><code>CancellationException</code>:</h4>
<pre><code lang="kotlin">
// mal:
cs.launch {
  try {
    // ...
  } catch (e: CancellationException) { // la excepción no debe omitirse
  }
}

// incorrecto:
suspend fun suspendingFunction() {
  try {
    // ...
  } catch (ProcessCanceledException e) {
    LOG.error("Error occurred", e); // la excepción no debe registrarse en el log
    throw e;
  }
}


// correcto:
cs.launch {
  try {
    // ...
  } catch (ProcessCanceledException e) {
    // acciones adicionales
    throw e;
  }
}
</code></pre>

<p>
  <i>Nota: la inspección está deshabilitada en las fuentes de prueba.</i>
</p>

<!-- tooltip end -->
<p><small>Novedad en 2023.2</small></p>
</body>
</html>